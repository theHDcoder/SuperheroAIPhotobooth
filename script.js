const _0x4827fb=_0x49cd;(function(_0x37f6cc,_0x32af4a){const _0x47b91f=_0x49cd,_0x535f45=_0x37f6cc();while(!![]){try{const _0x49b2eb=parseInt(_0x47b91f(0x120))/0x1+parseInt(_0x47b91f(0x10f))/0x2+parseInt(_0x47b91f(0x14a))/0x3+parseInt(_0x47b91f(0x162))/0x4+-parseInt(_0x47b91f(0x159))/0x5*(-parseInt(_0x47b91f(0x164))/0x6)+-parseInt(_0x47b91f(0x12a))/0x7+-parseInt(_0x47b91f(0x149))/0x8;if(_0x49b2eb===_0x32af4a)break;else _0x535f45['push'](_0x535f45['shift']());}catch(_0x2e483c){_0x535f45['push'](_0x535f45['shift']());}}}(_0x26a5,0xcb365));var albumBucketName=_0x4827fb(0x139),bucketRegion=_0x4827fb(0x10c),IdentityPoolId=_0x4827fb(0x132);AWS['config']['update']({'region':bucketRegion,'credentials':new AWS[(_0x4827fb(0x16b))]({'IdentityPoolId':IdentityPoolId})});var s3=new AWS['S3']({'apiVersion':_0x4827fb(0x167),'params':{'Bucket':albumBucketName}});function addFileToBucket(_0x156f2a,_0x51f24a,_0x12dab6){const _0xb6a657=_0x4827fb;var _0x57f05b=_0x156f2a+'/',_0x593c4e=_0x57f05b+_0x12dab6,_0x16fcb1=new AWS['S3'][(_0xb6a657(0x146))]({'params':{'Bucket':albumBucketName,'Key':_0x593c4e,'Body':_0x51f24a,'ACL':_0xb6a657(0x10b)}}),_0x163c16=_0x16fcb1[_0xb6a657(0x103)]();_0x163c16[_0xb6a657(0x115)](function(_0x260572){console['log']('Successfully\x20uploaded\x20photo.'),SupeImageSelectorPanel();},function(_0x13a8ea){return alert('There\x20was\x20an\x20error\x20uploading\x20your\x20photo:\x20',_0x13a8ea['message']);});}function _0x49cd(_0x201a3d,_0x44ba7c){const _0x26a554=_0x26a5();return _0x49cd=function(_0x49cdd9,_0x50c46e){_0x49cdd9=_0x49cdd9-0x103;let _0x40f535=_0x26a554[_0x49cdd9];return _0x40f535;},_0x49cd(_0x201a3d,_0x44ba7c);}function convertToHttps(_0x4410b1){const _0x5c2436=_0x4827fb;if(_0x4410b1[_0x5c2436(0x13e)]('http:/'))return _0x4410b1[_0x5c2436(0x106)]('http:/',_0x5c2436(0x150));return _0x4410b1;}async function faceSwap(_0x29e8df,_0x9598dc,_0x4f8dd8){const _0x5ab9f9=_0x4827fb,_0xa9f1cf=new URLSearchParams();_0xa9f1cf[_0x5ab9f9(0x15d)](_0x5ab9f9(0x151),_0x29e8df),_0xa9f1cf[_0x5ab9f9(0x15d)]('swap_url',_0x9598dc),await fetch('https://api.magicapi.dev/api/v1/capix/faceswap/faceswap/v1/image',{'method':_0x5ab9f9(0x14e),'headers':{'accept':'application/json','x-magicapi-key':_0x4f8dd8,'Content-Type':_0x5ab9f9(0x15c)},'body':_0xa9f1cf})[_0x5ab9f9(0x115)](_0x5883a9=>_0x5883a9['json']())[_0x5ab9f9(0x115)](_0x4bf9fb=>{const _0x516eb9=_0x5ab9f9;console[_0x516eb9(0x14d)](_0x4bf9fb),responseImage(_0x4bf9fb[_0x516eb9(0x165)]['request_id'],_0x4f8dd8);})['catch'](_0x2d93f8=>{const _0x3920c1=_0x5ab9f9;console['error'](_0x3920c1(0x118),_0x2d93f8);});}async function responseImage(_0x5c72ef,_0xc3776b){const _0x178ef6=_0x4827fb,_0x2ca6e2=new URLSearchParams();_0x2ca6e2[_0x178ef6(0x15d)]('request_id',_0x5c72ef),await fetch(_0x178ef6(0x15b),{'method':_0x178ef6(0x14e),'headers':{'accept':'application/json','x-magicapi-key':_0xc3776b,'Content-Type':_0x178ef6(0x15c)},'body':_0x2ca6e2})[_0x178ef6(0x115)](_0x3bf696=>_0x3bf696[_0x178ef6(0x128)]())[_0x178ef6(0x115)](_0x4972bb=>{const _0x1e2eec=_0x178ef6,_0x1c7aa5=_0x4972bb[_0x1e2eec(0x165)][_0x1e2eec(0x169)];console[_0x1e2eec(0x14d)](_0x1e2eec(0x105),_0x1c7aa5);if(_0x1c7aa5!=undefined)_0x1c7aa5=convertToHttps(_0x1c7aa5),$(_0x1e2eec(0x137))[_0x1e2eec(0x111)](),addFileToBucket(_0x1e2eec(0x124),_0x1c7aa5,_0x1c7aa5),document[_0x1e2eec(0x11b)](_0x1e2eec(0x140))[_0x1e2eec(0x117)][_0x1e2eec(0x156)]=_0x1e2eec(0x157),document[_0x1e2eec(0x11b)](_0x1e2eec(0x12c))['style']['display']=_0x1e2eec(0x157),document['getElementById']('imageContainer')[_0x1e2eec(0x117)][_0x1e2eec(0x156)]='block',document[_0x1e2eec(0x11b)](_0x1e2eec(0x166))['src']=_0x1c7aa5;else _0x1c7aa5==undefined&&(document[_0x1e2eec(0x11b)](_0x1e2eec(0x140))[_0x1e2eec(0x117)][_0x1e2eec(0x156)]=_0x1e2eec(0x157),document[_0x1e2eec(0x11b)]('supePanel')[_0x1e2eec(0x117)]['display']=_0x1e2eec(0x11d));})['catch'](_0x5cc5a7=>{const _0x34b87b=_0x178ef6;console['error'](_0x34b87b(0x118),_0x5cc5a7);});}function generateRandomString(_0x2dc67c){const _0x174515=_0x4827fb,_0x34652e=_0x174515(0x15f);let _0x557ff4='';for(let _0x30f104=0x0;_0x30f104<_0x2dc67c;_0x30f104++){const _0x344be2=Math[_0x174515(0x10e)](Math[_0x174515(0x155)]()*_0x34652e['length']);_0x557ff4+=_0x34652e[_0x344be2];}return _0x557ff4;}var camWidth='',camHeight='';/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i['test'](navigator[_0x4827fb(0x135)])?(camWidth=0x168,camHeight=0x1f4):(camWidth=0x168,camHeight=0x1f4);function _0x26a5(){const _0x4647a6=['onload','style','Error:','label','body','getElementById','classList','block','downloaded_image.jpg','forEach','231887QOGFIP','active','webcamList','value','AI_photobooth_supe_render','.firstpage','querySelectorAll','transform:\x20scale(-1,1)!important;','json','.setpanel','5457137BaFOMO','show','supePanel','.tab-btn','length','innerHTML','stop','download','ap-south-1:f746089a-16b2-4b75-8d74-3fee63d59c02','width','.jpeg','userAgent','Switch\x20is\x20ON','.supeImgs','https://hdbuckettest.s3.ap-south-1.amazonaws.com/AI_photobooth_supe/','hdbuckettest','DOMContentLoaded','catch','#webcam','checked','startsWith','.cameraPanel','loader','.capturebtn','start','canvas','trim','height','ManagedUpload','test01','toDataURL','7479760RfkyGn','2955285EzhUEu','src','change','log','POST','.png','https:/','target_url','Switch\x20is\x20OFF','flex','setAttribute','random','display','none','.tab-content','5mKwscC','_selectedDeviceId','https://api.magicapi.dev/api/v1/capix/faceswap/result/','application/x-www-form-urlencoded','append','webcam\x20started','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','demo_bucket_cam','match','115004WJhXZC','transform:\x20scale(1,1)!important;','6847164sYoovm','image_process_response','resultImage','2012-10-17','currentTarget','result_url','charCodeAt','CognitoIdentityCredentials','appendChild','option','.finalize','promise','add','Final\x20:','replace','createElement','remove','addEventListener','split','public-read','ap-south-1','cm1dwsyly0003ld03eb1itbc1','floor','319982JSyqeo','href','hide','webcamCount','webcam','click','then'];_0x26a5=function(){return _0x4647a6;};return _0x26a5();}const webcamElement=document[_0x4827fb(0x11b)](_0x4827fb(0x113)),canvasElement=document[_0x4827fb(0x11b)](_0x4827fb(0x143)),webcam=new Webcam(webcamElement,'user',canvasElement);webcamElement[_0x4827fb(0x133)]=camWidth,webcamElement[_0x4827fb(0x145)]=camHeight;function CameraInit(){const _0x3cd83d=_0x4827fb;$(_0x3cd83d(0x125))[_0x3cd83d(0x111)](),$(_0x3cd83d(0x13f))[_0x3cd83d(0x12b)](),webcam[_0x3cd83d(0x142)]()['then'](_0x374b1b=>{const _0x5e4250=_0x3cd83d;console[_0x5e4250(0x14d)]('webcam\x20started',_0x374b1b);})[_0x3cd83d(0x13b)](_0x492b07=>{console['log'](_0x492b07);});}const dropdown=document[_0x4827fb(0x11b)]('dynamicDropdown');function CamSettings(){const _0x29a119=_0x4827fb;if($('.setpanel')['is'](':visible'))$(_0x29a119(0x129))[_0x29a119(0x111)]();else{dropdown[_0x29a119(0x12f)]='';const _0x3ab7cc=webcam[_0x29a119(0x112)];console[_0x29a119(0x14d)](_0x3ab7cc);for(let _0x47a803=0x1;_0x47a803<=_0x3ab7cc;_0x47a803++){const _0x3ed88e=document['createElement'](_0x29a119(0x16d));_0x3ed88e[_0x29a119(0x123)]=_0x47a803,_0x3ed88e['textContent']=removeBracketsAndContent(webcam[_0x29a119(0x122)][_0x47a803-0x1][_0x29a119(0x119)]),dropdown[_0x29a119(0x16c)](_0x3ed88e);}$(_0x29a119(0x129))['show']();}}function removeBracketsAndContent(_0x332e71){const _0x2bf660=_0x4827fb;return _0x332e71[_0x2bf660(0x106)](/\s*\(.*?\)\s*/g,'')[_0x2bf660(0x144)]();}dropdown['addEventListener'](_0x4827fb(0x14c),function(){const _0x1f592c=_0x4827fb;handleOptionChange(dropdown[_0x1f592c(0x123)]);});function handleOptionChange(_0x5b4598){const _0x1b53e1=_0x4827fb;console[_0x1b53e1(0x14d)]('Selected\x20value:\x20'+_0x5b4598),webcam[_0x1b53e1(0x130)](),webcam[_0x1b53e1(0x15a)]=webcam['webcamList'][_0x5b4598-0x1]['deviceId'],webcam[_0x1b53e1(0x142)]()['then'](_0x48ecfc=>{const _0x2f1e82=_0x1b53e1;console[_0x2f1e82(0x14d)](_0x2f1e82(0x15e));})[_0x1b53e1(0x13b)](_0x54a9d3=>{const _0x6889ce=_0x1b53e1;console[_0x6889ce(0x14d)](_0x54a9d3);});}toggleSwitch[_0x4827fb(0x109)](_0x4827fb(0x14c),function(){const _0xb3c51=_0x4827fb;toggleSwitch[_0xb3c51(0x13d)]?(console[_0xb3c51(0x14d)](_0xb3c51(0x136)),webcamElement[_0xb3c51(0x154)](_0xb3c51(0x117),_0xb3c51(0x163))):(console['log'](_0xb3c51(0x152)),webcamElement['setAttribute'](_0xb3c51(0x117),_0xb3c51(0x127)));});function TakePhoto(){const _0x1136d2=_0x4827fb;var _0x2ee70b=webcam['snap']();$(_0x1136d2(0x13c))[_0x1136d2(0x111)](),canvasElement['style'][_0x1136d2(0x156)]=_0x1136d2(0x11d),webcam[_0x1136d2(0x130)](),$('.capturebtn')[_0x1136d2(0x111)](),$(_0x1136d2(0x16e))[_0x1136d2(0x12b)]();}function RetakePhoto(){const _0x13e86d=_0x4827fb;webcam[_0x13e86d(0x142)]()[_0x13e86d(0x115)](_0x5df048=>{const _0x13f71d=_0x13e86d;console['log'](_0x13f71d(0x15e));})['catch'](_0xe2455f=>{console['log'](_0xe2455f);}),$(_0x13e86d(0x13c))[_0x13e86d(0x12b)](),$('#canvas')[_0x13e86d(0x111)](),$(_0x13e86d(0x141))['show'](),$(_0x13e86d(0x16e))[_0x13e86d(0x111)]();}function dataURLtoFile(_0x1db27d,_0x30f9b0){const _0x50d315=_0x4827fb;var _0x32a605=_0x1db27d[_0x50d315(0x10a)](','),_0x1cf649=_0x32a605[0x0][_0x50d315(0x161)](/:(.*?);/)[0x1],_0x188e49=atob(_0x32a605[0x1]),_0x26f338=_0x188e49[_0x50d315(0x12e)],_0x1cf92b=new Uint8Array(_0x26f338);while(_0x26f338--){_0x1cf92b[_0x26f338]=_0x188e49[_0x50d315(0x16a)](_0x26f338);}return new File([_0x1cf92b],_0x30f9b0,{'type':_0x1cf649});}function FinalPhoto(){const _0x7e3749=_0x4827fb;addFileToBucket(_0x7e3749(0x160),dataURLtoFile(document[_0x7e3749(0x11b)](_0x7e3749(0x143))[_0x7e3749(0x148)](),_0x7e3749(0x147)+_0x7e3749(0x134)),_0x7e3749(0x147)+_0x7e3749(0x134));}function SupeImageSelectorPanel(){const _0x554f57=_0x4827fb;$('.cameraPanel')[_0x554f57(0x111)](),$('.supeImgs')[_0x554f57(0x12b)]();}function SwapFace(_0x4f889f){const _0x45ce98=_0x4827fb;document[_0x45ce98(0x11b)]('loader')[_0x45ce98(0x117)][_0x45ce98(0x156)]=_0x45ce98(0x153),$(_0x45ce98(0x137))[_0x45ce98(0x111)](),console['log']('testing...',_0x4f889f['id']);const _0x378c6f=_0x45ce98(0x10d);faceSwap(_0x45ce98(0x138)+_0x4f889f['id']+_0x45ce98(0x14f),'https://hdbuckettest.s3.ap-south-1.amazonaws.com/demo_bucket_cam/test01.jpeg',_0x378c6f);}function openTab(_0x4efd67,_0x541523){const _0x40f725=_0x4827fb,_0x2e1c21=document[_0x40f725(0x126)](_0x40f725(0x158));_0x2e1c21[_0x40f725(0x11f)](_0x3b50ff=>_0x3b50ff['classList'][_0x40f725(0x108)](_0x40f725(0x121)));const _0x34c809=document[_0x40f725(0x126)](_0x40f725(0x12d));_0x34c809['forEach'](_0x1620dd=>_0x1620dd[_0x40f725(0x11c)]['remove'](_0x40f725(0x121))),document['getElementById'](_0x541523)['classList']['add'](_0x40f725(0x121)),_0x4efd67[_0x40f725(0x168)][_0x40f725(0x11c)][_0x40f725(0x104)](_0x40f725(0x121));}document[_0x4827fb(0x109)](_0x4827fb(0x13a),function(){const _0x1deeeb=_0x4827fb;document['querySelector'](_0x1deeeb(0x12d))[_0x1deeeb(0x114)]();});function downloadImage(){const _0x12f4be=_0x4827fb,_0x4b592f=document[_0x12f4be(0x11b)](_0x12f4be(0x166)),_0xfb5c3f=document[_0x12f4be(0x107)]('a');_0xfb5c3f[_0x12f4be(0x110)]=_0x4b592f[_0x12f4be(0x14b)],_0xfb5c3f[_0x12f4be(0x131)]=_0x12f4be(0x11e),document[_0x12f4be(0x11a)][_0x12f4be(0x16c)](_0xfb5c3f),_0xfb5c3f['click'](),document[_0x12f4be(0x11a)]['removeChild'](_0xfb5c3f);}document[_0x4827fb(0x11b)]('resultImage')[_0x4827fb(0x116)]=function(){const _0x1c00b2=_0x4827fb;$(_0x1c00b2(0x137))[_0x1c00b2(0x111)]();};