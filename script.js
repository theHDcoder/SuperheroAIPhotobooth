const _0x40e59b=_0x2447;(function(_0x1636f0,_0x546412){const _0x4796a1=_0x2447,_0x5e260b=_0x1636f0();while(!![]){try{const _0x597d84=parseInt(_0x4796a1(0x122))/0x1*(parseInt(_0x4796a1(0x110))/0x2)+parseInt(_0x4796a1(0xd4))/0x3+parseInt(_0x4796a1(0x114))/0x4*(-parseInt(_0x4796a1(0x115))/0x5)+parseInt(_0x4796a1(0xf2))/0x6+-parseInt(_0x4796a1(0x130))/0x7+parseInt(_0x4796a1(0xea))/0x8+parseInt(_0x4796a1(0x108))/0x9*(-parseInt(_0x4796a1(0xfd))/0xa);if(_0x597d84===_0x546412)break;else _0x5e260b['push'](_0x5e260b['shift']());}catch(_0x254486){_0x5e260b['push'](_0x5e260b['shift']());}}}(_0x444d,0x60039));var albumBucketName='hdbuckettest',bucketRegion=_0x40e59b(0x128),IdentityPoolId=_0x40e59b(0xba);AWS[_0x40e59b(0xf5)][_0x40e59b(0xc0)]({'region':bucketRegion,'credentials':new AWS[(_0x40e59b(0xcc))]({'IdentityPoolId':IdentityPoolId})});var s3=new AWS['S3']({'apiVersion':_0x40e59b(0xfa),'params':{'Bucket':albumBucketName}});function wait(_0x3e4c2f){return new Promise(_0x4f5dbc=>{setTimeout(_0x4f5dbc,_0x3e4c2f*0x3e8);});}function addFileToBucket(_0x152010,_0x1503cd,_0x1df716){const _0x4245b9=_0x40e59b;var _0x4ff31e=_0x152010+'/',_0x4d22dc=_0x4ff31e+_0x1df716,_0x12926b=new AWS['S3']['ManagedUpload']({'params':{'Bucket':albumBucketName,'Key':_0x4d22dc,'Body':_0x1503cd,'ACL':_0x4245b9(0xcd)}}),_0x5c74f6=_0x12926b[_0x4245b9(0x121)]();_0x5c74f6['then'](function(_0x57aade){const _0x4eff38=_0x4245b9;console[_0x4eff38(0xd0)](_0x4eff38(0x112)),SupeImageSelectorPanel();},function(_0x17dd4e){const _0x5eeee7=_0x4245b9;return alert(_0x5eeee7(0xc9),_0x17dd4e[_0x5eeee7(0x10b)]);});}function convertToHttps(_0xbe4c03){const _0x3adedd=_0x40e59b;if(_0xbe4c03['startsWith'](_0x3adedd(0xb9)))return _0xbe4c03[_0x3adedd(0xcb)]('http:/',_0x3adedd(0xcf));return _0xbe4c03;}var requestid='';async function faceSwap(_0x3f036d,_0x599903,_0x36dc75){const _0x251fae=_0x40e59b;try{const _0x5d1b92=new URLSearchParams();_0x5d1b92['append'](_0x251fae(0x102),_0x3f036d),_0x5d1b92[_0x251fae(0xd2)](_0x251fae(0xe5),_0x599903),await fetch(_0x251fae(0xe2),{'method':_0x251fae(0xe6),'headers':{'accept':_0x251fae(0xc8),'x-magicapi-key':_0x36dc75,'Content-Type':_0x251fae(0xc3)},'body':_0x5d1b92})[_0x251fae(0xe4)](_0x5e3642=>_0x5e3642[_0x251fae(0xef)]())[_0x251fae(0xe4)](_0x2639fd=>{const _0xe9b8fd=_0x251fae;console['log'](_0x2639fd),requestid=_0x2639fd[_0xe9b8fd(0x125)][_0xe9b8fd(0x10a)],document[_0xe9b8fd(0x126)]('loader')[_0xe9b8fd(0xf1)]['display']='none',document['getElementById'](_0xe9b8fd(0x129))[_0xe9b8fd(0xf1)]['display']=_0xe9b8fd(0x12b);})[_0x251fae(0xd9)](_0x4a1f9b=>{const _0x34c3af=_0x251fae;console['error'](_0x34c3af(0x11b),_0x4a1f9b);});}catch(_0x41eb56){console[_0x251fae(0x10f)]('Error:',_0x41eb56);}}document['getElementById'](_0x40e59b(0x104))[_0x40e59b(0x100)]('click',test);function _0x2447(_0x41c044,_0x419ad2){const _0x444d65=_0x444d();return _0x2447=function(_0x24476a,_0x52cd6c){_0x24476a=_0x24476a-0xb7;let _0x5937d9=_0x444d65[_0x24476a];return _0x5937d9;},_0x2447(_0x41c044,_0x419ad2);}function test(){const _0x36dbf8=_0x40e59b;document[_0x36dbf8(0x126)](_0x36dbf8(0xc1))[_0x36dbf8(0xf1)][_0x36dbf8(0x106)]=_0x36dbf8(0x124),document[_0x36dbf8(0x126)](_0x36dbf8(0x129))[_0x36dbf8(0xf1)][_0x36dbf8(0x106)]=_0x36dbf8(0xf9),responseImage();}async function responseImage(){const _0x57edf6=_0x40e59b,_0x126393='cm1kwnj6n0001jm03omb9wpfi',_0x478683=new URLSearchParams();_0x478683[_0x57edf6(0xd2)](_0x57edf6(0x10a),requestid),await fetch(_0x57edf6(0x111),{'method':_0x57edf6(0xe6),'headers':{'accept':_0x57edf6(0xc8),'x-magicapi-key':_0x126393,'Content-Type':'application/x-www-form-urlencoded'},'body':_0x478683})[_0x57edf6(0xe4)](_0x420c54=>_0x420c54[_0x57edf6(0xef)]())[_0x57edf6(0xe4)](_0x5166c4=>{const _0x358016=_0x57edf6;var _0x8b16d7=_0x5166c4['image_process_response']['result_url'];console[_0x358016(0xd0)]('Final\x20:',_0x8b16d7);if(_0x8b16d7!=undefined)_0x8b16d7=convertToHttps(_0x8b16d7),$(_0x358016(0xd7))['hide'](),addFileToBucket('AI_photobooth_supe_render',_0x8b16d7,_0x8b16d7),document[_0x358016(0x126)]('loader')[_0x358016(0xf1)][_0x358016(0x106)]=_0x358016(0xf9),document[_0x358016(0x126)]('supePanel')[_0x358016(0xf1)]['display']='none',document[_0x358016(0x126)](_0x358016(0x116))['style'][_0x358016(0x106)]=_0x358016(0x12b),document[_0x358016(0x126)](_0x358016(0xdf))[_0x358016(0xbc)]=_0x8b16d7;else _0x8b16d7==undefined&&(document[_0x358016(0x126)](_0x358016(0xc1))[_0x358016(0xf1)][_0x358016(0x106)]=_0x358016(0xf9),document[_0x358016(0x126)](_0x358016(0x11e))[_0x358016(0xf1)][_0x358016(0x106)]=_0x358016(0x12b));})[_0x57edf6(0xd9)](_0x2b2cbd=>{const _0x4032f4=_0x57edf6;console[_0x4032f4(0x10f)](_0x4032f4(0x11b),_0x2b2cbd);});}function generateRandomString(_0x5287a2){const _0x2fc698=_0x40e59b,_0x1392ff=_0x2fc698(0xbe);let _0x16e352='';for(let _0x82a408=0x0;_0x82a408<_0x5287a2;_0x82a408++){const _0x422907=Math[_0x2fc698(0x123)](Math[_0x2fc698(0xe8)]()*_0x1392ff[_0x2fc698(0xed)]);_0x16e352+=_0x1392ff[_0x422907];}return _0x16e352;}function _0x444d(){const _0x46b686=['floor','flex','image_process_response','getElementById','width','ap-south-1','loadbtn','setAttribute','block','.tab-btn','dynamicDropdown','webcam','demo_bucket_cam','5501321zSJZvx','.capturebtn','removeChild','cm1kwnj6n0001jm03omb9wpfi','classList','http:/','ap-south-1:f746089a-16b2-4b75-8d74-3fee63d59c02','option','src','add','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','reload','update','loader','onload','application/x-www-form-urlencoded','.firstpage','stop','textContent','querySelector','application/json','There\x20was\x20an\x20error\x20uploading\x20your\x20photo:\x20','createElement','replace','CognitoIdentityCredentials','public-read','.setpanel','https:/','log','deviceId','append','click','402321TkptmE','.cameraPanel','DOMContentLoaded','.supeImgs','webcamList','catch','Selected\x20value:\x20','testing...','querySelectorAll','change','https://hdbuckettest.s3.ap-south-1.amazonaws.com/demo_bucket_cam/test01.jpeg','resultImage','transform:\x20scale(-1,1)!important;','appendChild','https://api.magicapi.dev/api/v1/capix/faceswap/faceswap/v1/image','body','then','swap_url','POST','height','random','toDataURL','6096776xBLOtA','_selectedDeviceId','.png','length',':visible','json','.finalize','style','2280810hYpxPN','remove','#canvas','config','innerHTML','hide','canvas','none','2012-10-17','split','userAgent','30VisShU','webcamCount','start','addEventListener','checked','target_url','user','imgloader','charCodeAt','display','Switch\x20is\x20ON','1570329FSBjNH','trim','request_id','message','.jpeg','transform:\x20scale(1,1)!important;','test01','error','6ulEGhN','https://api.magicapi.dev/api/v1/capix/faceswap/result/','Successfully\x20uploaded\x20photo.','href','172PigcyP','19870ebNSSL','imageContainer','snap','webcam\x20started','value','show','Error:','Switch\x20is\x20OFF','#webcam','supePanel','active','label','promise','199054VkPxne'];_0x444d=function(){return _0x46b686;};return _0x444d();}var camWidth='',camHeight='';const webcamElement=document['getElementById'](_0x40e59b(0x12e)),canvasElement=document[_0x40e59b(0x126)](_0x40e59b(0xf8)),webcam=new Webcam(webcamElement,_0x40e59b(0x103),canvasElement);/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i['test'](navigator[_0x40e59b(0xfc)])?(camWidth=0x1e0,camHeight=0x1e0):(camWidth=0x168,camHeight=0x1f4);webcamElement[_0x40e59b(0x127)]=camWidth,webcamElement[_0x40e59b(0xe7)]=camHeight;function CameraInit(){const _0x4722a4=_0x40e59b;$(_0x4722a4(0xc4))[_0x4722a4(0xf7)](),$(_0x4722a4(0xd5))['show'](),webcam['start']()[_0x4722a4(0xe4)](_0x1b02dc=>{const _0x19f1f4=_0x4722a4;console[_0x19f1f4(0xd0)](_0x19f1f4(0x118),_0x1b02dc);})[_0x4722a4(0xd9)](_0x486847=>{const _0x51f592=_0x4722a4;console[_0x51f592(0xd0)](_0x486847);});}const dropdown=document[_0x40e59b(0x126)](_0x40e59b(0x12d));function CamSettings(){const _0x5376f0=_0x40e59b;if($(_0x5376f0(0xce))['is'](_0x5376f0(0xee)))$(_0x5376f0(0xce))[_0x5376f0(0xf7)]();else{dropdown[_0x5376f0(0xf6)]='';const _0x457f45=webcam[_0x5376f0(0xfe)];console[_0x5376f0(0xd0)](_0x457f45);for(let _0x527c51=0x1;_0x527c51<=_0x457f45;_0x527c51++){const _0x2faede=document['createElement'](_0x5376f0(0xbb));_0x2faede[_0x5376f0(0x119)]=_0x527c51,_0x2faede[_0x5376f0(0xc6)]=removeBracketsAndContent(webcam[_0x5376f0(0xd8)][_0x527c51-0x1][_0x5376f0(0x120)]),dropdown[_0x5376f0(0xe1)](_0x2faede);}$('.setpanel')[_0x5376f0(0x11a)]();}}function removeBracketsAndContent(_0x37f97b){const _0x5d534a=_0x40e59b;return _0x37f97b[_0x5d534a(0xcb)](/\s*\(.*?\)\s*/g,'')[_0x5d534a(0x109)]();}dropdown[_0x40e59b(0x100)](_0x40e59b(0xdd),function(){handleOptionChange(dropdown['value']);});function handleOptionChange(_0x12efa0){const _0x5a85e2=_0x40e59b;console['log'](_0x5a85e2(0xda)+_0x12efa0),webcam[_0x5a85e2(0xc5)](),webcam[_0x5a85e2(0xeb)]=webcam[_0x5a85e2(0xd8)][_0x12efa0-0x1][_0x5a85e2(0xd1)],webcam[_0x5a85e2(0xff)]()[_0x5a85e2(0xe4)](_0xf3912d=>{const _0x4cb73d=_0x5a85e2;console['log'](_0x4cb73d(0x118));})[_0x5a85e2(0xd9)](_0x28f73f=>{console['log'](_0x28f73f);});}toggleSwitch[_0x40e59b(0x100)](_0x40e59b(0xdd),function(){const _0x3b694a=_0x40e59b;toggleSwitch[_0x3b694a(0x101)]?(console[_0x3b694a(0xd0)](_0x3b694a(0x107)),webcamElement['setAttribute'](_0x3b694a(0xf1),_0x3b694a(0x10d))):(console[_0x3b694a(0xd0)](_0x3b694a(0x11c)),webcamElement[_0x3b694a(0x12a)]('style',_0x3b694a(0xe0)));});function TakePhoto(){const _0x313bdd=_0x40e59b;var _0x19e7ca=webcam[_0x313bdd(0x117)]();$('#webcam')[_0x313bdd(0xf7)](),canvasElement['style']['display']='block',webcam['stop'](),$(_0x313bdd(0x131))[_0x313bdd(0xf7)](),$(_0x313bdd(0xf0))['show']();}function RetakePhoto(){const _0x51e29a=_0x40e59b;webcam[_0x51e29a(0xff)]()[_0x51e29a(0xe4)](_0xca405e=>{const _0xaa044e=_0x51e29a;console[_0xaa044e(0xd0)](_0xaa044e(0x118));})['catch'](_0x18b370=>{const _0x57d0cd=_0x51e29a;console[_0x57d0cd(0xd0)](_0x18b370);}),$(_0x51e29a(0x11d))[_0x51e29a(0x11a)](),$(_0x51e29a(0xf4))['hide'](),$(_0x51e29a(0x131))[_0x51e29a(0x11a)](),$('.finalize')[_0x51e29a(0xf7)]();}function dataURLtoFile(_0x4d140d,_0x1babc5){const _0xfb107f=_0x40e59b;var _0x30786f=_0x4d140d[_0xfb107f(0xfb)](','),_0x31dbb1=_0x30786f[0x0]['match'](/:(.*?);/)[0x1],_0x4bb2b8=atob(_0x30786f[0x1]),_0xdb4074=_0x4bb2b8[_0xfb107f(0xed)],_0x195117=new Uint8Array(_0xdb4074);while(_0xdb4074--){_0x195117[_0xdb4074]=_0x4bb2b8[_0xfb107f(0x105)](_0xdb4074);}return new File([_0x195117],_0x1babc5,{'type':_0x31dbb1});}function FinalPhoto(){const _0x41051e=_0x40e59b;addFileToBucket(_0x41051e(0x12f),dataURLtoFile(document[_0x41051e(0x126)]('canvas')[_0x41051e(0xe9)](),'test01'+_0x41051e(0x10c)),_0x41051e(0x10e)+'.jpeg');}function SupeImageSelectorPanel(){const _0x3f4e63=_0x40e59b;$(_0x3f4e63(0xd5))[_0x3f4e63(0xf7)](),$(_0x3f4e63(0xd7))[_0x3f4e63(0x11a)]();}function SwapFace(_0xc97de9){const _0x3e2d41=_0x40e59b;document[_0x3e2d41(0x126)](_0x3e2d41(0xc1))['style'][_0x3e2d41(0x106)]='flex',$(_0x3e2d41(0xd7))[_0x3e2d41(0xf7)](),console[_0x3e2d41(0xd0)](_0x3e2d41(0xdb),_0xc97de9['id']);const _0xbf6a53=_0x3e2d41(0xb7);faceSwap('https://hdbuckettest.s3.ap-south-1.amazonaws.com/AI_photobooth_supe/'+_0xc97de9['id']+_0x3e2d41(0xec),_0x3e2d41(0xde),_0xbf6a53);}function openTab(_0x30847b,_0x41ff2b){const _0x2cab36=_0x40e59b,_0xe15f7e=document[_0x2cab36(0xdc)]('.tab-content');_0xe15f7e['forEach'](_0x16b585=>_0x16b585[_0x2cab36(0xb8)][_0x2cab36(0xf3)](_0x2cab36(0x11f)));const _0x2ac96c=document['querySelectorAll'](_0x2cab36(0x12c));_0x2ac96c['forEach'](_0x46d539=>_0x46d539['classList'][_0x2cab36(0xf3)](_0x2cab36(0x11f))),document[_0x2cab36(0x126)](_0x41ff2b)['classList'][_0x2cab36(0xbd)](_0x2cab36(0x11f)),_0x30847b['currentTarget'][_0x2cab36(0xb8)][_0x2cab36(0xbd)]('active');}document['addEventListener'](_0x40e59b(0xd6),function(){const _0x74701e=_0x40e59b;document[_0x74701e(0xc7)]('.tab-btn')['click']();});function downloadImage(){const _0x5f1f6d=_0x40e59b,_0x4a4446=document[_0x5f1f6d(0x126)](_0x5f1f6d(0xdf)),_0x244447=document[_0x5f1f6d(0xca)]('a');_0x244447[_0x5f1f6d(0x113)]=_0x4a4446[_0x5f1f6d(0xbc)],_0x244447['download']='downloaded_image.jpg',document[_0x5f1f6d(0xe3)]['appendChild'](_0x244447),_0x244447[_0x5f1f6d(0xd3)](),document[_0x5f1f6d(0xe3)][_0x5f1f6d(0x132)](_0x244447);}document['getElementById'](_0x40e59b(0xdf))[_0x40e59b(0xc2)]=function(){const _0x4cac05=_0x40e59b;$('.supeImgs')[_0x4cac05(0xf7)]();};function retry(){const _0x2a64f5=_0x40e59b;window['location'][_0x2a64f5(0xbf)]();}